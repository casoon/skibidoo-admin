---
import BaseLayout from "./BaseLayout.astro";
import Sidebar from "@/components/Sidebar.astro";
import Header from "@/components/Header.astro";
import Notifications from "@/components/Notifications.astro";

interface Props {
  title: string;
}

const { title } = Astro.props;
---

<BaseLayout title={title}>
  <div class="flex h-screen" x-data x-init="if (!$store.auth.isAuthenticated) window.location.href = '/login'">
    <Sidebar />
    <div class="flex flex-1 flex-col overflow-hidden" :class="$store.sidebar.open ? 'ml-64' : 'ml-16'">
      <Header title={title} />
      <main class="flex-1 overflow-y-auto p-6">
        <slot />
      </main>
    </div>
    <Notifications />
  </div>
</BaseLayout>
